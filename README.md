# krisyuk_itp_devops_pr
Крисюк Вадим (Практика АйтиПелаг DevOps)

# Задание Nginx
Для начала были созданы и запущены три Docker-контейнра с проектами на разных портах: Java Spring, Python FastAPI, PHP Laravel. Java Spring запускался на порту 8001, PHP Laravel на порту 8002, Python FastAPI – 8003.  
![n1](/images/n1.png)
Рисунок 1 – Запуск контейнеров 

![n2](/images/n2.png)

Рисунок 2 – Проверка запуска приложений

Далее был установлен Nginx со всеми обновлениями. В папке конфигурационных файлов был создан файл, в который вписан код для управления серверами. Сначала введем для всех портов одинаковый вес (weight = 1)  
![n3](/images/n3.png)

Рисунок 3 – Код конфигурационного файла

При запуске серверов соотношение запусков приложений оказалось 3:3:4 
![n4](/images/n4.png)

Рисунок 4 – Запуск серверов

Теперь изменим вес каждого порта и посмотрим, как поменяется соотношение запусков приложений. Для этого поменяем вес у портов в соотношение 1:2:4 и поставим в цикле 70 запусков, чтобы было наглядно видно что получится:
```
upstream backend {
    least_conn;  
    server localhost:8001 weight=1;  #java
    server localhost:8002 weight=2;  #php
    server localhost:8003 weight=4;  #python
}
```

В итоге количество запусков совпало с соотношением 1:2:4
![n5](/images/n5.png)

Рисунок 5 – Количество запусков

*Вывод:* Была разработана программа, которая делала N запросов к адресу http://localhost определяла ЯП, на котором написан сервис (ЯП присутствует в ответе сервиса).
